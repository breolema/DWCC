<html>
<title>EXERCICIOS CLASE</title>

<body>
    <h1>Exercicio 8</h1>
    <script>
        /*Crea un obxecto película qie conteña os seguintes atributos:
        Director, string
        Data lanzamento, enteiro
        Actores, string
        Título, string
        Presuposto, decimal
        Permitense os seguintes constructores:
        Completo, sen presuposto e sen data de lanzamento (3 tipos)
        Implementar un metodo observador
        Implementar un metodo que comprobe a "idade da película"
        O programa principal debe permitir recoller os datos por teclado ao usuario
        e imprimir todos os adtos co observador. Tamen debemos imprimir a idade
        da pelicula.*/


        class Pelicula {
            //creamos o constructor
            constructor(director, lanzamento, actores, titulo, presuposto) {
                this.director = director;
                //como pode non estar definido damoslle un valor simbolico, si non obten o valor
                if (lanzamento != undefined) {
                    this.lanzamento = lanzamento;
                } else {
                    this.lanzamento = 0;
                }
                this.actores = actores;
                this.titulo = titulo;
                //como pode non estar definido damoslle un valor simbolico, si non obten o valor
                if (presuposto != undefined) {
                    this.presuposto = presuposto;
                } else {
                    this.presuposto = 0;
                }
            }

            //metodo observador para comprobar os datos
            observador() {
                document.write(`Director: ${this.director}<br>`);
                document.write(`Data lanzamento: ${this.lanzamento}<br>`);
                document.write(`Actores: ${this.actores}<br>`);
                document.write(`Título: ${this.titulo}<br>`);
                document.write(`Presuposto: ${this.presuposto}<br>`);
            }

            //metodo calcular idade que colle o ano actual e o ano de creacion da pelicula
            //e di cantos anos ten
            calcularIdade() {
                if (this.lanzamento) {
                    const anoActual = new Date().getFullYear();
                    return anoActual - this.lanzamento;
                } else {
                    return "Non se proporcionou data de lanzamento";
                }
            }
        }


        //var pelicula1 = new Pelicula("Director1", 2000, "Actor1, Actor2", "Título1", 10.5);
        //pelicula1.observador();
        //document.write(`Idade da película: ${pelicula1.calcularIdade()} anos<br><br>`);

        //document.write("<br>")

        //var pelicula2 = new Pelicula("Director2", undefined, "Actor1, Actor2", "Título2");
        //pelicula2.observador();
        //document.write(`Idade da película: ${pelicula2.calcularIdade()} anos<br><br>`);

        //Percorrer un obxecto usando vectores
        //let miPelicula = new Pelicula("Director1", 2000, "Actor1, Actor2", "Título1", 10.5);
        //let vector = Object.values(miPelicula);
        //for (let elemento of vector) {
            //document.write(`${elemento}<br>`);
        //}

        //Mais extendido
        let miPelicula2 = new Pelicula("Director1", 2000, "Actor1, Actor2", "Título1", 10.5);
        let atributos=[];
        let i=0;
        for (let elemento in miPelicula2){
            atributos[i]=elemento;
            i++;
        }
        let valores = Object.values(miPelicula2);
        for (i=0;i<atributos.length;i++){
            document.write(atributos[i] + ": " + valores[i] + "<br>");
        }

        //Percorrelo sin usar vectores
        //let miPelicula2 = new Pelicula("Director1", 2000, "Actor1, Actor2", "Título1", 10.5);
        //for (let elemento in miPelicula2) {
            //document.write(`${elemento}: ${miPelicula2[elemento]} <br>`);
        //}
    </script>
</body>

</html>